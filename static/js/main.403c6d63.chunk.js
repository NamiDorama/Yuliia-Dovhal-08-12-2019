(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(24),u=a(30),s=a(77),p=a(27),l="GET_AUTOCOMPLETE",h="GET_WEATHER",x="GET_FIVE_DAYS_WEATHER",g="GET_FAVOURITES_WEATHER",m=function(e){return{type:"GET_AUTOCOMPLETE_SUCCESS",options:e}},b=function(e){return{type:h,selectedOption:e}},d=function(e){return{type:"GET_WEATHER_SUCCESS",weather:e}},f=function(e){return{type:x,key:e}},E=function(e){return{type:"GET_FIVE_DAYS_WEATHER_SUCCESS",weather:e}},w=function(e){return{type:"GET_FAVOURITES_WEATHER_SUCCESS",favoritesWeather:e}},y=function(e){return{type:"SET_ERROR",error:e}},v=function(e){return{type:"SET_CITY",city:e}},O={options:[],weather:{},fiveDaysWeather:[],currentCity:{},favoritesWeather:{},error:null},_=a(23),k=a.n(_),j=a(17),S=a(48),T=function(e){return fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){return e.Message?Promise.reject(e.Message):Promise.resolve(e)}))},W="https://dataservice.accuweather.com",C="xLSpz4alKO638nrASxn4WzH4V2AqqV6y",N=function(e){return T("".concat(W,"/locations/v1/cities/autocomplete?apikey=").concat(C,"&q=").concat(e))},I=function(e){return T("".concat(W,"/currentconditions/v1/").concat(e,"?apikey=").concat(C))},A=function(e){return T("".concat(W,"/currentconditions/v1/").concat(e,"?apikey=").concat(C)).then((function(t){return Object(S.a)({},e,t[0])}))},D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return T("".concat(W,"/forecasts/v1/daily/5day/").concat(e,"?apikey=").concat(C,"&metric=").concat(t))},R=k.a.mark(L),F=k.a.mark(V),U=k.a.mark(H),M=k.a.mark(z),G=k.a.mark(K);function L(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.params,n.prev=1,!t){n.next=8;break}return n.next=5,N(t);case 5:n.t0=n.sent,n.next=9;break;case 8:n.t0=[];case 9:return a=n.t0,n.next=12,Object(j.b)(m(a));case 12:n.next=18;break;case 14:return n.prev=14,n.t1=n.catch(1),n.next=18,Object(j.b)(y("Sorry, something went wrong in autocomplete"));case 18:case"end":return n.stop()}}),R,null,[[1,14]])}function V(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.selectedOption,n.prev=1,n.next=4,I(t.Key);case 4:return a=n.sent,n.next=7,Object(j.b)(d(a));case 7:return n.next=9,Object(j.b)(v(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(j.b)(y("Sorry, something went wrong in getting weather"));case 15:case"end":return n.stop()}}),F,null,[[1,11]])}function H(e){var t,a,n;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.favorites,r.prev=1,r.next=4,Object(j.a)(t.map((function(e){return A(e.key)})));case 4:return a=r.sent,r.next=7,a.reduce((function(e,t){return Object(p.a)({},e,{},t)}),{});case 7:return n=r.sent,r.next=10,Object(j.b)(w(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(j.b)(y("Sorry, something went wrong in getting weather for favorites cities"));case 16:case"end":return r.stop()}}),U,null,[[1,12]])}function z(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.key,n.prev=1,n.next=4,D(t);case 4:return a=n.sent,n.next=7,Object(j.b)(E(a));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(j.b)(y("Sorry, something went wrong in getting weather for 5 days"));case 13:case"end":return n.stop()}}),M,null,[[1,9]])}function K(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([Object(j.c)(l,L),Object(j.c)(h,V),Object(j.c)(g,H),Object(j.c)(x,z)]);case 2:case"end":return e.stop()}}),G)}var P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,J=Object(s.a)(),B=Object(u.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTOCOMPLETE_SUCCESS":return Object(p.a)({},e,{options:t.options,error:null});case"GET_WEATHER_SUCCESS":return Object(p.a)({},e,{weather:t.weather[0],error:null});case"GET_FIVE_DAYS_WEATHER_SUCCESS":return Object(p.a)({},e,{fiveDaysWeather:t.weather.DailyForecasts,error:null});case"GET_FAVOURITES_WEATHER_SUCCESS":return Object(p.a)({},e,{favoritesWeather:t.favoritesWeather});case"SET_CITY":return Object(p.a)({},e,{currentCity:t.city});case"SET_ERROR":return Object(p.a)({},e,{error:t.error});default:return Object(p.a)({},e)}}),P(Object(u.a)(J)));J.run(K);a(95);var Y=a(43),q=a(32),X=(a(96),a(6)),$=a(142),Q=a(143),Z=a(135),ee=a(140),te=a(139),ae=a(141),ne=r.a.forwardRef((function(e,t){return r.a.createElement(Y.b,Object.assign({to:"/",exact:!0},e,{ref:t}))})),re=r.a.forwardRef((function(e,t){return r.a.createElement(Y.b,Object.assign({to:"/favorites"},e,{ref:t}))})),ce=Object(X.a)({grow:{flexGrow:1},active:{border:"1px solid grey"}})((function(e){var t=e.classes;return r.a.createElement(Z.a,{position:"static",color:"default"},r.a.createElement(te.a,null,r.a.createElement(ee.a,{variant:"h6",color:"inherit",className:t.grow},"Weather application"),r.a.createElement(ae.a,{component:ne,color:"inherit",activeClassName:t.active},"Home"),r.a.createElement(ae.a,{component:re,color:"inherit",activeClassName:t.active},"Favorites")))})),oe=a(9),ie=a.n(oe),ue={"bg-1_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -10px")},"bg-2_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -10px")},"bg-3_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -75px")},"bg-4_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -75px")},"bg-5_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -10px")},"bg-6_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -75px")},"bg-7_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -140px")},"bg-8_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -140px")},"bg-11_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -140px")},"bg-12_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -205px")},"bg-13_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -205px")},"bg-14_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -205px")},"bg-15_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -10px")},"bg-16_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -75px")},"bg-17_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -140px")},"bg-18_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -205px")},"bg-19_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -270px")},"bg-20_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -270px")},"bg-21_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -270px")},"bg-22_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -270px")},"bg-23_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -10px")},"bg-24_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -75px")},"bg-25_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -140px")},"bg-26_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -205px")},"bg-29_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -270px")},"bg-30_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -335px")},"bg-31_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -335px")},"bg-32_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -335px")},"bg-33_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -335px")},"bg-34_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -335px")},"bg-35_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -10px -400px")},"bg-36_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -105px -400px")},"bg-37_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -200px -400px")},"bg-38_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -295px -400px")},"bg-39_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -390px -400px")},"bg-40_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -485px -10px")},"bg-41_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -485px -75px")},"bg-42_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -485px -140px")},"bg-43_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -485px -205px")},"bg-44_s":{width:"75px",height:"45px",background:"url(".concat(ie.a,") -485px -270px")}},se=Object(X.a)(ue)((function(e){var t=e.classes,a=e.iconNum;return r.a.createElement(ee.a,{component:"div",className:t["bg-".concat(a,"_s")]})})),pe=Object(X.a)({cardItem:{height:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}})((function(e){var t=e.weather,a=t.header,n=t.body,c=t.footer,o=t.iconNum,i=e.classes;return r.a.createElement($.a,{item:!0,md:2,sm:4,xs:12},r.a.createElement(Q.a,{className:i.cardItem},o&&r.a.createElement(se,{iconNum:o}),r.a.createElement(ee.a,{component:"p",align:"center",variant:"body2"},a),r.a.createElement(ee.a,{component:"p",align:"center",variant:"subtitle2",color:"primary"},n),r.a.createElement(ee.a,{component:"p",align:"center"},c)))})),le=a(144),he=a(72),xe=a.n(he),ge=function(e){var t=e.favorite,a=e.favoritesHandler;return r.a.createElement($.a,{item:!0,sm:4,xs:6,align:"right"},r.a.createElement(le.a,{color:t?"secondary":"default",onClick:a},r.a.createElement(xe.a,null)),r.a.createElement(ee.a,{component:"span",variant:"subtitle1"},"Favorites"))},me=function(e){var t=e.weatherArr;return r.a.createElement($.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:2,style:{margin:"40px 0"}},t.length?t.map((function(e){return e.key?r.a.createElement(pe,{weather:e,key:e.key}):null})):null)},be=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],de=function(e){return be[new Date(e).getDay()]},fe=function(e,t){return!!e.filter((function(e){return e.key===t})).length},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.map((function(e){var a=t[e.key];return a?{key:e.key,header:e.city,body:"".concat(a.Temperature.Metric.Value).concat(a.Temperature.Metric.Unit),footer:a.WeatherText,iconNum:a.WeatherIcon}:{}})):e.map((function(e){return{key:e.EpochDate,header:de(e.Date),body:e.Day.IconPhrase,footer:"".concat(e.Temperature.Minimum.Value).concat(e.Temperature.Minimum.Unit," / ").concat(e.Temperature.Maximum.Value).concat(e.Temperature.Maximum.Unit)}}))},we={getFavoritesWeather:function(e){return{type:g,favorites:e}}},ye=Object(i.b)((function(e){return{favoritesWeather:e.favoritesWeather}}),we)(Object(X.a)({root:{padding:"15px",width:"90%",margin:"20px auto"}})((function(e){var t=e.getFavoritesWeather,a=e.favoritesWeather,c=e.classes,o=JSON.parse(window.localStorage.getItem("cities"))||[];Object(n.useEffect)((function(){t(o)}),[]);var i=Object.keys(a).length?Ee(o,a):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),r.a.createElement(Q.a,{className:c.root},r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(me,{weatherArr:i}))))}))),ve=a(53),Oe=a(73),_e=a(44),ke=a(146),je=a(147),Se=a(74),Te=a.n(Se),We={getAutocomplete:function(e){return{type:l,params:e}},getWeather:b,getFiveDaysWeather:f},Ce=Object(i.b)((function(e){return{options:e.options}}),We)(Object(X.a)({root:{margin:"20px 0"},icon:{color:"grey",marginRight:"5px"},margin:{margin:"10px 0 10px 10px"},width:{width:"300px"}})((function(e){var t=e.classes,a=e.options,c=e.getAutocomplete,o=e.getWeather,i=e.getFiveDaysWeather,u=Object(n.useState)(""),s=Object(_e.a)(u,2),p=s[0],l=s[1],h=Object(n.useState)({}),x=Object(_e.a)(h,2),g=x[0],m=x[1],b=function(e){var t=e.target.value;m({}),l(t)};Object(n.useEffect)((function(){p&&c(p)}),[p]);return r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",className:t.root},r.a.createElement(je.a,{id:"autocomplete-search",options:a,disableClearable:!0,freeSolo:!0,getOptionLabel:function(e){return e.LocalizedName},renderInput:function(e){return r.a.createElement(ke.a,Object.assign({},e,{label:"Search city",variant:"outlined",onChange:b,className:t.width}))},renderOption:function(e){return r.a.createElement($.a,{container:!0,alignItems:"center"},r.a.createElement($.a,{item:!0},r.a.createElement(Te.a,{className:t.icon})),r.a.createElement($.a,{item:!0,xs:!0},r.a.createElement(ee.a,{color:"textSecondary"},e.LocalizedName)))},inputValue:p,onChange:function(e,t){Object(Oe.a)(e),l(t.LocalizedName),m(t)}}),r.a.createElement(ae.a,{variant:"contained",size:"small",color:"primary",className:t.margin,onClick:function(){o(g),i(g.Key),l(""),m({})},disabled:!Object.keys(g).length},"Get weather"))}))),Ne=a(76),Ie={Version:1,Key:"226396",Type:"City",Rank:10,LocalizedName:"Tokyo",Country:{ID:"JP",LocalizedName:"Japan"},AdministrativeArea:{ID:"13",LocalizedName:"Tokyo"}},Ae={getWeather:b,getFiveDaysWeather:f},De=Object(i.b)((function(e){return{weather:e.weather,currentCity:e.currentCity,fiveDaysWeather:e.fiveDaysWeather}}),Ae)(Object(X.a)({root:{padding:"15px",width:"90%",margin:"20px auto"},weatherBlock:{display:"flex",flexDirection:"row",alignItems:"center"}})((function(e){var t=e.classes,a=e.weather,c=e.getWeather,o=e.currentCity,i=e.getFiveDaysWeather,u=e.fiveDaysWeather,s=JSON.parse(window.localStorage.getItem("cities"))||[],p=fe(s,o.Key),l=Ee(u),h=Object(n.useState)(p),x=Object(_e.a)(h,2),g=x[0],m=x[1];Object(n.useEffect)((function(){if(Object.keys(o).length)return c(o),void i(o.Key);c(Ie),i(Ie.Key)}),[]),Object(n.useEffect)((function(){m(fe(s,o.Key))}),[o.Key,s]);return r.a.createElement(Q.a,{className:t.root},r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement($.a,{item:!0,sm:8,xs:6,className:t.weatherBlock},r.a.createElement($.a,{item:!0},r.a.createElement(se,{iconNum:a.WeatherIcon})),r.a.createElement($.a,{item:!0},r.a.createElement(ee.a,{component:"h6",variant:"h6"},o.LocalizedName),r.a.createElement(ee.a,{component:"p",variant:"subtitle1"},a.Temperature&&a.Temperature.Metric.Value,a.Temperature&&a.Temperature.Metric.Unit))),r.a.createElement(ge,{favorite:g,favoritesHandler:function(){m(!p);var e=p?s.filter((function(e){return e.key!==o.Key})):[].concat(Object(Ne.a)(s),[{city:o.LocalizedName,key:o.Key}]);window.localStorage.setItem("cities",JSON.stringify(e))}}),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(ee.a,{component:"p",variant:"h5",align:"center"},a.WeatherText)),r.a.createElement(me,{weatherArr:l})))}))),Re=(a(99),Object(i.b)((function(e){return{error:e.error}}))((function(e){var t=e.error;return Object(n.useEffect)((function(){var e;t&&(e=t,ve.b.error(e,{position:ve.b.POSITION.BOTTOM_LEFT}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{autoClose:5e3}),r.a.createElement(ce,null),r.a.createElement(Ce,null),r.a.createElement(De,null))}))),Fe=Object(X.a)({margin:{margin:"20px 0"}})((function(e){var t=e.classes;return r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},r.a.createElement(ee.a,{variant:"h5",className:t.margin},"Sorry, this page is not found"),r.a.createElement(ae.a,{href:"/",variant:"outlined",className:t.margin},"Go to home page"))})),Ue=function(){return r.a.createElement(Y.a,{basename:"/"},r.a.createElement(q.c,null,r.a.createElement(q.a,{path:"/",exact:!0,component:Re}),r.a.createElement(q.a,{path:"/favorites",exact:!0,component:ye}),r.a.createElement(q.a,{component:Fe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=r.a.createElement(i.a,{store:B},r.a.createElement(Ue,null));o.a.render(Me,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,a){e.exports=a(100)},9:function(e,t,a){e.exports=a.p+"static/media/css_sprites.062925ff.png"},95:function(e,t,a){},96:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.403c6d63.chunk.js.map